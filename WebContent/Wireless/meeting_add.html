<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>考勤管理系统</title>
    <!-- <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"> -->
    <!-- google font -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet" type="text/css" /> -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/ionicons.css" rel="stylesheet" type="text/css">
    <link href="assets/css/simple-line-icons.css" rel="stylesheet" type="text/css">
    <link href="assets/css/jquery.mCustomScrollbar.css" rel="stylesheet">
    <!--fullcalendar-->
    <link href="assets/css/fullcalendar.css" rel='stylesheet' />
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        ul{
            list-style: none;
        }
        .form-group{
            padding: 20px;
        }
        .select-content{
            list-style: none;

        }
        .select-row {
            width: 30%;
            height: 42px;
            background: #ffffff;
            border-radius: 14px;
            margin-top: 10px;
            float: left;
        }
        input[type="search"]{
            position: absolute;
            width: 30%;
            outline: none;
            right: 15%;
            border: 2px solid purple;
            border-radius: 5px;
        }
        
        .lable-title {
            display: inline-block;
            line-height: 40px;
            padding: 0 10px 0 10px;
            color: purple;

        }

       
        .cont-sel {
            display: inline-block;
            width: 70%;
            height: 100%;
            color: #3a3838;
        }

        select {
            width: 100%;
            height: 30px;
            border-radius: 5px;
            border-color: purple;
        }
        .search-result{
            width: 84%;
            margin: 0 auto;
            height:200px;
            overflow: auto;
            border-radius: 5px;
            border: 1px solid #ccc; 
        }
        .search-result ul li{
            width: 100%;
            height: 40px;
            border-bottom: 1px solid #ccc;
        }
        .selected-result{
            width: 84%;
            margin: 0 auto;
            height:200px;
            overflow: auto;
            border-radius: 5px;
            border: 1px solid #ccc; 
        }
        .selected-result ul li{
            width: 100%;
            height: 40px;
            border-bottom: 1px solid #ccc;
        }
        .btn-add,.btn-del{
            position: absolute;
            right: 10px;
            top: 2px;
        }
        .search-result ul li,.selected-result ul li{
            position: relative;
            text-indent: 2em;
            line-height: 40px;
        }
    </style>
</head>

<body>


    <div class="wrapper">
        <!-- header -->
        <header class="main-header">
            <div class="container_header">
                <div class="logo">
                    <a href="#">
                        <span class="logo-default">
                            <img src="img/logo.png" class="img-response" height="40" alt="">
                        </span>
                    </a>
                </div>
                <div class="right_detail">
                    <div class="row row d-flex align-items-center min-h pos-md-r">
                        <div class="col-xl-5 col-3 search_col ">
                            <div class="top_function d-md-flex align-items-md-center">
                                <div class="icon_menu">
                                    <a href="#" class="menu-toggler sidebar-toggler">
                                        <i class="icon-menu"></i>
                                    </a>
                                </div>
                                <div class="search">
                                    <a id="toggle_res_search" data-toggle="collapse" data-target="#search_form" class="res-only-view collapsed" href="javascript:void(0);"
                                        aria-expanded="false">
                                        <i class=" icon-magnifier"></i>
                                    </a>

                                </div>
                            </div>
                        </div>
                        <div class="col-xl-7 col-9 d-flex justify-content-end">
                            <div class="right_bar_top d-flex align-items-center">
                                <div class="fullscreen-btn">
                                    <a href="javascript:;">
                                        <i class="icon-size-fullscreen"></i>
                                    </a>
                                </div>

                                <!-- notification_Start -->
                                <div class="dropdown dropdown-notification">
                                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true" aria-expanded="false">
                                        <i class="fa fa-bell-o"></i>
                                        <span class="badge_coun"> 1 </span>
                                    </a>
                                    <ul class="dropdown-menu scroll_auto height_fixed" aria-labelledby="dropdownMenu1">
                                        <li class="bigger">
                                            <h3>
                                                <span class="bold">Notifications</span>
                                            </h3>
                                            <span class="notification-label">New 1</span>
                                        </li>
                                        <li>
                                            <ul class="dropdown-menu-list">
                                            
                                                <li>
                                                    <a href="javascript:;">
                                                        <span class="time">12 mins</span>
                                                        <span class="details">
                                                            <span class="notification-icon pink">
                                                                <i class="fa fa-heart"></i>
                                                            </span>
                                                            <b>Ravi Patel </b>like your photo. </span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <!-- notification_End -->
                                <!-- DropDown_Inbox -->
                                <div class="dropdown dropdown-inbox">
                                    <ul class="dropdown-menu scroll_auto height_fixed" aria-labelledby="dropdownMenu1">
                                    </ul>
                                </div>
                                <!--DropDown_Inbox_End -->
                                <!-- Dropdown_User -->
                                <div class="dropdown dropdown-user">
                                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true" aria-expanded="true">
                                        <img class="img-circle pro_pic" src="" alt="">
                                        <span class="username">XXX</span>
                                        <i class="fa fa-angle-down"></i>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-default">
                                        <li>
                                            <a href="#">
                                                <i class="icon-user"></i> Settings </a>
                                        </li>
                                        <li>
                                            <a href="login.html">
                                                <i class="icon-logout"></i> Log Out </a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Dropdown_User_End -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- header_End -->
        <!-- Content_right -->
        <div class="container_full">
            <div class="side_bar scroll_auto">
                <div class="user-panel">
                    <div class="user_image">
                        <img src="assets/images/product_7.jpg" class="img-circle" alt="User Image">
                    </div>
                    <div class="info">
                        <p>
                            管理员XXX
                        </p>
                    </div>
                </div>
                <ul id="dc_accordion" class="sidebar-menu tree">
                    <li>
                        <a href="index.html">
                            <i class="fa fa-home"></i>
                            <span>首页</span>
                        </a>
                    </li>

                    <li class="menu_sub">
                        <a href="#">
                            <i class="fa fa-calendar"></i>
                            <span>日历日程</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="down_menu">
                            <li>
                                <a href="calendar_basic.html">日历</a>
                            </li>
                            <li>
                                <a href="calendar_meeting.html">会议日程</a>
                            </li>
                            <li>
                                <a href="calendar_meeting.html">更多</a>
                            </li>
                        </ul>
                    </li>
                    <li class="menu_sub">
                        <a href="#">
                            <i class="fa fa-wpforms"></i>
                            <span>会议管理</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="down_menu">
                            <li>
                                <a href="form-basic-input.html">短信通知</a>
                            </li>
                            <li>
                                <a href=".html">请假审批</a>
                            </li>
                            <li class="menu_sub">
                                <a href="meeting_add.html">添加会议
                                    <span class="arrow"></span>
                                </a>
                                <ul class="down_menu lavel3">
                                    <li>
                                        <a href="meeting_add.html">正常会议</a>
                                    </li>
                                    <li>
                                        <a href="form-input-group.html">紧急会议</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu_sub">
                                <a href="#">会议资料
                                    <span class="arrow"></span>
                                </a>
                                <ul class="down_menu lavel3">
                                    <li>
                                        <a href="form-validation-basic.html">发布/上传</a>
                                    </li>
                                    <li>
                                        <a href="form-validation-jquery.html">下载</a>
                                    </li>

                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="menu_sub">
                        <a href="#">
                            <i class="icon-grid"></i>
                            <span>人员数据</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="down_menu">

                            <li>
                                <a href="table-datatable.html">已到人员</a>
                            </li>
                            
                            <li>
                                <a href="table-datatable-ajax.html">迟到/早退人员</a>
                            </li>
                                

                        </ul>
                    </li>
                    <li class="menu_sub">
                        <a href="#">
                            <i class="fa fa-bar-chart text-aqua"></i>
                            <span>数据分析</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="down_menu">
                            <li>
                                <a href="flot-chart.html">学科预警</a>
                            </li>
                            <li>
                                <a href="flot-chart.html">当天/本周考勤情况</a>
                            </li>
                            <li>
                                <a href="echart.html">未来一周/月考勤预测</a>
                            </li>
                        </ul>
                    </li>
                    
                </ul>
            </div>
                        <!--main contents start-->
            <main class="content_wrapper">
                <!--page title start-->
                <div class="page-heading">
                    <div class="container">
                        <div class="row d-flex align-items-center">
                            <div class="col-md-6">
                                <div class="page-breadcrumb">
                                    <h1>添加会议</h1>
                                </div>
                            </div>
                            <div class="col-md-6 justify-content-md-end d-md-flex">
                                <div class="breadcrumb_nav">
                                    <ol class="breadcrumb">
                                        <li>
                                            <i class="fa fa-home"></i>
                                            <a class="parent-item" href="index.html">首页</a>
                                            <i class="fa fa-angle-right"></i>
                                        </li>
                                        <li class="active">
                                        添加会议
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--page title end-->

                <div class="container-fluid">
                    <!-- state start-->
                    <div class="row">
                        <div class=" col-md-12">
                            <div class="card card-shadow mb-4">
                                <div class="card-header">
                                    <div class="card-title">
                                        添加会议
                                    </div>
                                </div>
                                <div class="card-body">
                                    <form action="" method="post" enctype="multipart/form-data">
                                        <div class="form-group">
                                            <label for="">会议主题</label>
                                            <input type="text" class="form-control" id="" aria-describedby="" >
                                        </div>
                                        <div class="form-group">
                                            <label for="">会议日期：</label>
                                            <input id="date-select" type="text" readonly onclick="laydate()" />
                                            <label for="">具体时间：</label>
                                            <input id="time-select" type="text" readonly onclick="laydate()" />
                                            <label for="">地点：</label>
                                            <input id="meeting-place" type="text" />
                                        </div>
                                        <div class="form-group">
                                                <label for="">选择会议参与人员</label>
                                                    <hr>
                                                    <ul class="select-content">
                                                        <li class="select-row">
                                                            <p class="lable-title">学校</p>
                                                            <div class="cont-sel">
                                                                <select name="school" id="school"></select>
                                                            </div>
                                                        </li>

                                                        <li class="select-row">
                                                            <p class="lable-title">机构</p>
                                                            <div class="cont-sel">
                                                                <select name="major" id="major"></select>
                                                            </div>
                                                        </li>

                                                        <li class="select-row">
                                                            <p class="lable-title">院部</p>
                                                            <div class="cont-sel">
                                                                <select name="direction" id="direction"></select>
                                                            </div>
                                                        </li>
                                                        
                                                        
                                                    </ul>
                                                    <button type="" class="btn" style="background-color: #fff;border:1px solid purple;color:purple;position: relative;top: 14px;">查询</button>
                                                    </div>
                                        </div>
                                        
                                    
                                    <!-- 可选人 -->
                                    <div class="search-result">
                                        <ul class="collage">
                                            <li>无<button type="button" class="btn btn-add">添加</button></li>
                    
                                        </ul>
                                    </div>
                                    <p style="text-indent: 4em;font-size: 1.2em">已选老师</p>
                                    <!-- 已选人 -->
                                    <div class="selected-result">
                                        <ul>
                                            <li>已选老师<button class="btn btn-del" type="button">删除</button></li>
                                            <li>已选老师<button class="btn btn-del" type="button">删除</button></li>
                                        </ul>
                                    </div>
                                        <div class="form-group">
                                            <label for="exampleFormControlTextarea1">注意事项</label>
                                            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                        </div>
                                    
                                        <div class="form-group">
                                            <label for="exampleFormControlFile1">实时资料发布</label>
                                            <input type="file" class="form-control-file" id="exampleFormControlFile1"><br>
                                            <button type="submit" class="btn btn-primary" style="color: #fff">添加</button>
                                        </div>      
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        <!-- Content_right_End -->
        <!-- Footer -->
        <footer class="footer ptb-20">
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="copy_right">
                        <p>
                            2019 © 滁州学院信息中心
                            
                        </p>
                    </div>
                    <a id="back-to-top" href="#">
                        <i class="ion-android-arrow-up"></i>
                    </a>
                </div>
            </div>
        </footer>
        <!-- Footer_End -->
    </div>
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <script src="./layDate/laydate/laydate.js"></script>

    <script>
        laydate.render({
          elem: '#date-select'
          ,type: 'date'
        });
        laydate.render({
          elem: '#time-select'
          ,type: 'time'
        });
    </script>
    <script>
        var btnAdd = document.querySelectorAll('.btn-add');
        var btnDel = document.querySelectorAll('.btn-del');
        var listNode = document.querySelector('.selected-result ul');
        var delBtnLen = btnDel.length;
       
            deleteEle();
            
            btnAdd.forEach(function(item){

                item.onclick = function(){
                    
                    // var conTeacher = item.parentElement.innerText;
                    // console.log(conTeacher)
                    var newList = '<li>已选老师<button class="btn btn-del">删除</button></li>';
                    listNode.innerHTML += newList;
                    alert('已成功添加');
                    btnAdd = document.querySelectorAll('.btn-add');
                    btnDel = document.querySelectorAll('.btn-del');
                    listNode = document.querySelector('.selected-result ul');
                    
                    btnDel = document.querySelectorAll('.btn-del');
                    delBtnLen = btnDel.length;

                deleteEle();
                }

            });
            
        //删除元素
        function deleteEle(){
            for(let i = 0;i < delBtnLen; i++){
                btnDel[i].onclick = function() {
                    var isDel = confirm('是否删除');
                    if(isDel==true){
                        this.parentElement.remove();
                    }
                    else{
                        return false;
                    }
                }
            }
        }



    </script>
    <script>
        var school = [["00", "木叶村"], ["01", "砂隐村"], ["02", "土隐村"]];
        var majors = { "00": [["000", "信息学院"],["001","地信学院"]], "01":[["001", "地信学院"]],"02":[["002", "经管学院"]]};
        var directions = {
    "000": [[0, 0, "软件工程"],[0,0,"通信工程"]], "001": [[1, 0, "测绘"], [1, 0, "园林"]], "002": [[0, 0, "工商管理"], [1, 0, "财务管理"]]};
        // var teachers = {}


    (function () {
            var schoolNode = $('#school'),
                majorNode = $('#major'),
                directionNode = $('#direction');
            //学校
            var schoolArr = '',
                selectPstr = '';
            for (var i = 0, len = school.length; i < len; i++) {
                // selectPstr += school[i][0]   school[i][1] 
                selectPstr += "<option value = " + school[i][0] + ">" + school[i][1] + "</option>";
            }
            // console.log(selectPstr);
            schoolNode.html(selectPstr);

            //院部
            // console.log(typeof schoolNode.val());
            var majorArr = majors[schoolNode.val()],
                selectCstr = '';
            console.log(majorArr);
            for (var i = 0, len = majorArr.length; i < len; i++) {
                selectCstr += "<option value = " + majorArr[i][0] + ">" + majorArr[i][1] + "</option>";
            }
            selectCstr += "<option value = '9999'>其他</option>";
            majorNode.html(selectCstr);

            //专业
            var directionArr = directions[majorNode.val()],
                selectSstr = '';
            for (var i = 0, len = directionArr.length; i < len; i++) {
                selectSstr += "<option >" + directionArr[i][2] + "</option>";
            }
            selectSstr += "<option value = '9999'>其他</option>";
            directionNode.html(selectSstr);



            
            schoolNode.change(function () { 

                var schoolCurrent = schoolNode.val(),
                    majorArr = majors[schoolCurrent],
                    selectCstr = '';
                for (var i = 0, len = majorArr.length; i < len; i++) {
                    selectCstr += "<option value = " + majorArr[i][0] + ">" + majorArr[i][1] + "</option>";
                }
                selectCstr += "<option value = '9999'>其他</option>";
                majorNode.html(selectCstr);

                    directionArr = directions[majorNode.val()],
                    selectSstr = '';
                if (directionArr) {
                    for (var i = 0, len = directionArr.length; i < len; i++) {
                        selectSstr += "<option>" + directionArr[i][2] + "</option>";
                    }
                    selectSstr += "<option value = '9999'>其他</option>";
                    directionNode.html(selectSstr);
                }


            })


            
            majorNode.change(function () {

                directionArr = directions[majorNode.val()],
                    selectSstr = '';
                if (directionArr) {
                    for (var i = 0, len = directionArr.length; i < len; i++) {
                        selectSstr += "<option>" + directionArr[i][2] + "</option>";
                    }
                    selectSstr += "<option value = '9999'>其他</option>";
                    directionNode.html(selectSstr);
                }else{
                    selectSstr = "<option value = '9999'>其他</option>";
                    directionNode.html(selectSstr);
                }
            })
        })()
    </script>
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                var form = document.getElementById('needs-validation');
                form.addEventListener('submit', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            }, false);
        })();
    </script>
    <script type="text/javascript" src="assets/js/popper.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.dcjqaccordion.2.7.js"></script>
    <script src="assets/js/custom.js" type="text/javascript"></script>
</body>

</html>
